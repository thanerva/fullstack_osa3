{"version":3,"sources":["components/Filter.js","service/person.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","searchValue","handleFilter","value","onChange","baseUrl","axios","get","then","response","data","personObject","post","id","delete","put","PersonForm","newName","setNewName","newNumber","persons","setPersons","handleInput","handleNumber","setNewNumber","setErrorMessage","setRedError","onSubmit","event","preventDefault","found","forEach","person","name","number","find","n","console","log","window","confirm","personService","returnedPerson","map","catch","error","setTimeout","concat","type","Persons","onClick","filter","deleteButton","Notification","message","redError","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setSearchValue","errorMessage","useEffect","initialPersons","filteredSearch","entry","toLowerCase","includes","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6648440.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n  const { searchValue, handleFilter } = props;\r\n\r\n  return (\r\n    <div>\r\n      Filter shown with <input value={searchValue} onChange={handleFilter} />\r\n    </div>\r\n  );\r\n};\r\nexport default Filter;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (personObject) => {\r\n  const request = axios.post(baseUrl, personObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, personObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, personObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, deletePerson, update };\r\n","import React from \"react\";\r\nimport personService from \"../service/person\";\r\n\r\nconst PersonForm = (props) => {\r\n  const {\r\n    newName,\r\n    setNewName,\r\n    newNumber,\r\n    persons,\r\n    setPersons,\r\n    handleInput,\r\n    handleNumber,\r\n    setNewNumber,\r\n    setErrorMessage,\r\n    setRedError,\r\n  } = props;\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    let found = false;\r\n    persons.forEach((person) => {\r\n      if (newName === person.name) {\r\n        found = true;\r\n      }\r\n    });\r\n\r\n    let personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    if (found) {\r\n      const person = persons.find((n) => n.name === newName);\r\n      const id = person.id;\r\n      console.log(id);\r\n      console.log(personObject);\r\n      if (window.confirm(`${newName} already found, update nr?`)) {\r\n        personService\r\n          .update(id, personObject)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== returnedPerson.id ? person : returnedPerson\r\n              )\r\n            );\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            setErrorMessage(`${newName} was already removed from server`);\r\n            setRedError(true);\r\n            setTimeout(() => {\r\n              setErrorMessage(null);\r\n              setRedError(false);\r\n            }, 5000);\r\n          });\r\n        setErrorMessage(`${newName} number updated!`);\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n        }, 5000);\r\n        setNewNumber(\"\");\r\n        setNewName(\"\");\r\n      }\r\n      return;\r\n    }\r\n    console.log(\"onnistu\");\r\n\r\n    personService\r\n      .create(personObject)\r\n      .then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setErrorMessage(`${personObject.name} created succesfully`);\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n        }, 5000);\r\n\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data);\r\n        setErrorMessage(`${error.response.data.error}`);\r\n        setRedError(true);\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n          setRedError(false);\r\n        }, 5000);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleInput} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport personService from \"../service/person\";\r\n\r\nconst Persons = ({ persons, setPersons, setErrorMessage }) => {\r\n  const deleteButton = (person) => {\r\n    console.log(person);\r\n    const id = person.id;\r\n\r\n    if (window.confirm(`Do you want to delete ${person.name}?`))\r\n      personService.deletePerson(id).then((returnedPerson) => {\r\n        setPersons(persons.filter((person) => person.id !== id));\r\n        setErrorMessage(`${person.name} was deleted succesfully!`);\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n        }, 5000);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {persons.map((person) => (\r\n        <h3 key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => deleteButton(person)}>delete</button>\r\n        </h3>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, redError }) => {\r\n  const error = {\r\n    color: \"green\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  };\r\n\r\n  const errorRed = {\r\n    color: \"red\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  };\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  if (message != null && redError === true) {\r\n    return <div style={errorRed}>{message}</div>;\r\n  }\r\n\r\n  return <div style={error}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n\r\n/*     const addStyle = {\r\n      color: \"green\",\r\n      background: \"lightgrey\",\r\n      fontSize: 20,\r\n      borderStyle: \"solid\",\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10,\r\n    }; */\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport personService from \"./service/person\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [redError, setRedError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n    /* axios.get(\"http://localhost:3001/persons\").then((response) => {\r\n      setPersons(response.data);\r\n      console.log(\"toimii\"); */\r\n  }, []);\r\n\r\n  const filteredSearch = persons.filter((entry) =>\r\n    entry.name.toLowerCase().includes(searchValue.toLowerCase())\r\n  );\r\n\r\n  const handleFilter = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n\r\n  const handleInput = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} redError={redError} />\r\n      <Filter searchValue={searchValue} handleFilter={handleFilter} />\r\n      <div>\r\n        <h2>Add person</h2>\r\n      </div>\r\n      <PersonForm\r\n        newName={newName}\r\n        setNewNumber={setNewNumber}\r\n        setNewName={setNewName}\r\n        newNumber={newNumber}\r\n        handleInput={handleInput}\r\n        handleNumber={handleNumber}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setErrorMessage={setErrorMessage}\r\n        setRedError={setRedError}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={filteredSearch}\r\n        setPersons={setPersons}\r\n        setErrorMessage={setErrorMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}